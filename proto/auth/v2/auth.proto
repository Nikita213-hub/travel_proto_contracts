syntax = "proto3";

package auth.v2;

option go_package = "github.com/Nikita213-hub/travel_proto_contracts/pkg/proto/v2;authV2";


service AuthService {
  rpc StartLogin(LoginRequest) returns (LoginResponse);
  rpc VerifyCode(VerifyCodeRequest) returns (VerifyCodeResponse);
  rpc GetSession(SessionRequest) returns (Session);
  rpc EndSession(SessionRequest) returns (EndSessionResponse);
}

message LoginRequest { 
    string email = 1; 
}

message LoginResponse { 
    string message = 1;
}

message VerifyCodeRequest {
    string email = 1;
    string code = 2;
}

message VerifyCodeResponse { 
    string session_id = 1; 
}

message SessionRequest { 
    string session_id = 1; 
}

message Session {
    string id = 1;
    string email = 2;
    int64 expires_at = 3;
}

message EndSessionResponse {
    string message = 1;
}